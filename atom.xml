<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Home - Yanghao Wang</title>
  
  
  <link href="http://yanghaowang.github.io/atom.xml" rel="self"/>
  
  <link href="http://yanghaowang.github.io/"/>
  <updated>2021-04-07T03:21:12.246Z</updated>
  <id>http://yanghaowang.github.io/</id>
  
  <author>
    <name>Yanghao Wang</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>Aggregating and Filtering at One Time in SQL</title>
    <link href="http://yanghaowang.github.io/posts/20210406-Aggregating-and-Filtering-at-One-Time-in-SQL"/>
    <id>http://yanghaowang.github.io/posts/20210406-Aggregating-and-Filtering-at-One-Time-in-SQL</id>
    <published>2021-04-07T01:37:57.000Z</published>
    <updated>2021-04-07T03:21:12.246Z</updated>
    
    <content type="html"><![CDATA[<p>When it comes to reporting some statistics by group in SQL, we will think of using the aggregate functions and, if needed, the <code>WHERE</code> clause for filtering. However, the <code>WHERE</code> clause doesn’t allow you to filter on aggregate columns. To complete the query at one time without subqueries, we need the help of the <code>HAVING</code> clause.</p><h2 id="Aggregate-Functions"><a href="#Aggregate-Functions" class="headerlink" title="Aggregate Functions"></a>Aggregate Functions</h2><p>There are four popular aggregate functions in SQL:</p><ul><li><p><code>COUNT</code> counts the number of non-<code>NULL</code> rows in a column</p><ul><li><code>COUNT(DISTINCT price)</code> counts the number of the distinct non-<code>NULL</code> values in <code>price</code>.</li></ul></li><li><p><code>SUM</code> adds together all the values in a numeric column</p><ul><li><code>NULL</code> is treated as <code>0</code>. </li></ul></li><li><p><code>MIN</code> and <code>MAX</code> return the lowest and highest values in a numeric column, respectively</p></li><li><p><code>AVG</code> calculates the average of a group of selected values</p><ul><li><p>It can ONLY be used on numerical columns.</p></li><li><p><code>NULL</code> is ignored in the calculation.</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="keyword">AVG</span>(price)</span><br><span class="line">  <span class="keyword">FROM</span> tutorial.storesales</span><br><span class="line"> <span class="keyword">WHERE</span> price <span class="keyword">IS</span> <span class="keyword">NOT</span> <span class="literal">NULL</span></span><br><span class="line"><span class="comment">-- Equivalent Query --</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="keyword">AVG</span>(price)</span><br><span class="line">  <span class="keyword">FROM</span> tutorial.storesales</span><br></pre></td></tr></table></figure></li></ul></li></ul><h3 id="Aggregate-by-Group"><a href="#Aggregate-by-Group" class="headerlink" title="Aggregate by Group"></a>Aggregate by Group</h3><p>For example, you might want to count the number of entries for each year and month.</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="keyword">year</span>,</span><br><span class="line">       <span class="keyword">month</span>,</span><br><span class="line">       <span class="keyword">COUNT</span>(*) <span class="keyword">AS</span> <span class="keyword">count</span></span><br><span class="line"> <span class="keyword">FROM</span> tutorial.storesales</span><br><span class="line"><span class="keyword">GROUP</span> <span class="keyword">BY</span> <span class="keyword">year</span>, <span class="keyword">month</span></span><br><span class="line"><span class="keyword">ORDER</span> <span class="keyword">BY</span> <span class="keyword">month</span>, <span class="keyword">year</span></span><br></pre></td></tr></table></figure><h2 id="Filtering"><a href="#Filtering" class="headerlink" title="Filtering"></a>Filtering</h2><p>What if we are only interested in the months when the highest price is over 200.</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="keyword">year</span>,</span><br><span class="line">       <span class="keyword">month</span>,</span><br><span class="line">       <span class="keyword">MAX</span>(price) <span class="keyword">AS</span> month_high</span><br><span class="line"> <span class="keyword">FROM</span> tutorial.aapl_historical_stock_price</span><br><span class="line"><span class="keyword">GROUP</span> <span class="keyword">BY</span> <span class="keyword">year</span>, <span class="keyword">month</span></span><br><span class="line"><span class="keyword">HAVING</span> <span class="keyword">MAX</span>(price) &gt; <span class="number">200</span></span><br><span class="line"><span class="keyword">ORDER</span> <span class="keyword">BY</span> <span class="keyword">year</span>, <span class="keyword">month</span></span><br><span class="line"><span class="comment">-- Equivalent Query --</span></span><br><span class="line"><span class="keyword">SELECT</span> *</span><br><span class="line"><span class="keyword">FROM</span> (</span><br><span class="line">      <span class="keyword">SELECT</span> <span class="keyword">year</span>,</span><br><span class="line">             <span class="keyword">month</span>,</span><br><span class="line">             <span class="keyword">MAX</span>(price) <span class="keyword">AS</span> month_high</span><br><span class="line">        <span class="keyword">FROM</span> tutorial.aapl_historical_stock_price</span><br><span class="line">       <span class="keyword">GROUP</span> <span class="keyword">BY</span> <span class="keyword">year</span>, <span class="keyword">month</span></span><br><span class="line">      ) sub</span><br><span class="line"><span class="keyword">WHERE</span> month_high &gt; <span class="number">200</span></span><br><span class="line"><span class="keyword">ORDER</span> <span class="keyword">BY</span> <span class="keyword">year</span>, <span class="keyword">month</span></span><br></pre></td></tr></table></figure><ul><li>Using the aggregate function and the <code>HAVING</code> clause at one time to filter on an aggregated column.</li><li>The <code>WHERE</code> clause does not work in this case.</li></ul>]]></content>
    
    
    <summary type="html">Aggregate Functions in SQL, SQL GROUP BY, SQL WHERE, SQL HAVING, Filters on Aggregate Columns in SQL</summary>
    
    
    
    
    <category term="SQL" scheme="http://yanghaowang.github.io/tags/SQL/"/>
    
  </entry>
  
  <entry>
    <title>Hypothesis Testing vs. A/B Testing</title>
    <link href="http://yanghaowang.github.io/posts/20210405-Hypothesis-Testing-vs-A-B-Testing"/>
    <id>http://yanghaowang.github.io/posts/20210405-Hypothesis-Testing-vs-A-B-Testing</id>
    <published>2021-04-05T21:12:01.000Z</published>
    <updated>2021-04-06T13:18:06.342Z</updated>
    
    <content type="html"><![CDATA[<p>A/B testing is a popular term in Data Science. It is fairly self-explanatory to me at the first glance but then arises an question, what is the difference between the A/B testing people are using nowadays and the hypothesis testing I learnt in the statistics class. </p><p>In this post, I include some key points for understanding the hypothesis testing and the A/B testing, as well as some takeaways from other posts. In short, A/B testing is a version of a two-sample hypothesis testing for a randomized controlled experiment with two groups, control and treatment.</p><h2 id="Hypothesis-Testing"><a href="#Hypothesis-Testing" class="headerlink" title="Hypothesis Testing"></a>Hypothesis Testing</h2><ul><li>Specify the null ($H_0$) and alternative ($H_1$) Hypothesis</li><li>Calculate test statistics according to the observed sample</li><li>Reject or cannot reject the null hypothesis</li></ul><p>In the hypothesis testing, we have some knowledge of a population and observe a representative sample from the population. By computing the test statistics, we verify if our knowledge of the population can be supported by the observed sample.</p><p><a href="https://towardsdatascience.com/a-gentle-introduction-to-the-mathematics-behind-a-b-testing-3afe354bdce3">A post by Jérôme Spielmann</a> gives a gentle introduction about the mathematics behind the statistical testing and the transition from the generic testing to the A/B testing.</p><blockquote><p>In this post, the author has an example of the results in a A/B test.</p><table><thead><tr><th align="left"></th><th align="center">Click on Link</th><th align="center">Did not Click</th></tr></thead><tbody><tr><td align="left">Design A</td><td align="center">33</td><td align="center">362</td></tr><tr><td align="left">Design B</td><td align="center">42</td><td align="center">283</td></tr></tbody></table><p>In the hypothesis testing, we focus on the results from one design and have<br>$$<br>H_0:p=0.05\quad\text{v.s.}\quad H_1:p\neq 0.05.<br>$$</p><p>In the A/B testing, we compare the results from two designs and have</p><p>$$<br>H_0:p_1=p_2=p\quad\text{v.s.}\quad H_1:p_1\neq p_2.<br>$$</p></blockquote><h2 id="A-B-Testing"><a href="#A-B-Testing" class="headerlink" title="A/B Testing"></a>A/B Testing</h2><ul><li>Define a measure of interest (i.e., treatment) and a metric</li><li>Specify the control and treatment group (A and B group)</li><li>Construct the null hypothesis that the treatment group is as same as the control group</li><li>Calculate test statistics according to the control and treatment group</li><li>Reject or cannot reject the null hypothesis</li></ul><p>In the A/B testing, we have a hypothesis of a measure and we are interested in its impact. Particularly, we design a randomized experiment with two groups that are identical prior to the treatment. In the testing process, one group is treated, while the other is not. </p><h3 id="Test-Statistics"><a href="#Test-Statistics" class="headerlink" title="Test Statistics"></a>Test Statistics</h3><p>The A/B testing includes applications of <a href="https://en.wikipedia.org/wiki/Statistical_hypothesis_testing">statistical hypothesis testing</a> or “<a href="https://en.wikipedia.org/wiki/Two-sample_hypothesis_testing">two-sample hypothesis testing</a>“ as used in statistics. The test statistics vary with the metrics that are used for comparing the two groups.</p><ul><li> <a href="https://en.wikipedia.org/wiki/Z-test">Z-test</a> is appropriate for comparing means under stringent conditions regarding normality and a known standard deviation.</li><li> <a href="https://en.wikipedia.org/wiki/Student's_t-test">Student’s t-tests</a> is appropriate for comparing means under relaxed conditions when less is assumed. </li><li> <a href="https://en.wikipedia.org/wiki/Welch's_t_test">Welch’s t test</a> assumes the least and is therefore the most commonly used test in a two-sample hypothesis test where the mean of a metric is to be optimized.</li><li> <a href="https://en.wikipedia.org/wiki/Fisher's_exact_test">Fisher’s exact test</a> is used in a comparison of two <a href="https://en.wikipedia.org/wiki/Binomial_distribution">binomial distributions</a> such as a <a href="https://en.wikipedia.org/wiki/Click-through_rate">click-through rate</a>.</li></ul><table><thead><tr><th>Assumed Distribution</th><th align="left">Example Case</th><th>Standard Test</th><th>Alternative Test</th></tr></thead><tbody><tr><td><a href="https://en.wikipedia.org/wiki/Normal_distribution">Gaussian</a></td><td align="left"><a href="https://en.wikipedia.org/wiki/Average_revenue_per_user">Average revenue per user</a></td><td><a href="https://en.wikipedia.org/wiki/Welch's_t-test">Welch’s t-test</a> <br>(Unpaired t-test)</td><td><a href="https://en.wikipedia.org/wiki/Student's_t-test">Student’s t-test</a></td></tr><tr><td><a href="https://en.wikipedia.org/wiki/Binomial_distribution">Binomial</a></td><td align="left"><a href="https://en.wikipedia.org/wiki/Click-through_rate">Click-through rate</a></td><td><a href="https://en.wikipedia.org/wiki/Fisher's_exact_test">Fisher’s exact test</a></td><td><a href="https://en.wikipedia.org/wiki/Barnard's_test">Barnard’s test</a></td></tr><tr><td><a href="https://en.wikipedia.org/wiki/Poisson_distribution">Poisson</a></td><td align="left">Transactions <br/>per paying user</td><td>E-test</td><td>C-test</td></tr><tr><td><a href="https://en.wikipedia.org/wiki/Multinomial_distribution">Multinomial</a></td><td align="left">Number of <br/>each product purchased</td><td><a href="https://en.wikipedia.org/wiki/Chi-squared_test">Chi-squared test</a></td><td></td></tr><tr><td>Unknown</td><td align="left"></td><td><a href="https://en.wikipedia.org/wiki/Mann%E2%80%93Whitney_U_test">Mann–Whitney U test</a></td><td><a href="https://en.wikipedia.org/wiki/Gibbs_sampling">Gibbs sampling</a></td></tr></tbody></table><blockquote><p>Reference Link: <a href="https://en.wikipedia.org/wiki/A/B_testing#Common_test_statistics">https://en.wikipedia.org/wiki/A/B_testing#Common_test_statistics</a></p></blockquote><h3 id="Test-Significance-Level-and-Statistical-Power"><a href="#Test-Significance-Level-and-Statistical-Power" class="headerlink" title="Test Significance Level and Statistical Power"></a>Test Significance Level and Statistical Power</h3><p>Oftentimes, a problem will be given with a desired confidence level instead of the significance level ($\alpha$). A typical 95% confidence level for an A/B test corresponds to a significance level of 0.05.</p><blockquote><p>$\text{significance level}~\alpha=1-\text{confidence level}$</p></blockquote><p><em>An experiment in the A/B testing is typically set up at a minimum statistical power of 80 percent</em>. In other words, we want the test to show it is at least 80 percent in the probability that the treatment truly works.</p><p>By construction, if we increase the sample size for both A and B group, we will make the distributions under $H_0$ and $H_1$ much narrower and hence increase the statistical power.   </p><h3 id="Test-Sample-Size"><a href="#Test-Sample-Size" class="headerlink" title="Test Sample Size"></a>Test Sample Size</h3><p>The key is to determine the minimum sample size for the experiment, because it is directly related to how quickly you can complete the test and deliver statistically significant results.</p><blockquote><p>There are two calculators available on the web:</p><ul><li><a href="https://www.evanmiller.org/ab-testing/sample-size.html">Sample Size Calculator (Evan’s Awesome A/B Tools) (evanmiller.org)</a></li><li><a href="https://www.optimizely.com/sample-size-calculator/">A/B Test Sample Size Calculator (optimizely.com)</a></li></ul><p>You will need the baseline conversion rate and the minimum detectable effect, which is the minimum difference between the control and treatment group.</p><p>For detailed discussions on statistical power and sample size, you can also check these two notes:</p><ul><li><a href="https://sphweb.bumc.bu.edu/otlt/MPH-Modules/BS/BS704_Power/BS704_Power_print.html">Power and Sample Size Determination (Boston Univeristy School of Public Health)</a></li><li><a href="https://med.stanford.edu/content/dam/sm/s-spire/documents/WIPvF_EstimatingPowerSampleSize_ATrickey.pdf">Estimating Power and Sample Size (Stanford-Surgery Policy Improvement Research and Education)</a></li></ul></blockquote><p>According to the <a href="https://web.stanford.edu/~kcobb/hrp259/lecture11.ppt">the lecture notes from Stanford</a>, we have this formula:<br>$$<br>n=\frac{r+1}{r}\frac{\sigma^2(Z_\beta+Z_{\alpha/2})^2}{d^2},<br>$$<br>where $n$ is the sample size of the smaller group, $r$ is the ratio of the larger group to the smaller group, $\sigma$ is the standard deviation of the outcome variable, $Z_\beta$ and $Z_{\alpha/2}$ represents the critical value at the desired power and significance level (two-sided testing), and $d$ is the size of the treatment effect (i.e., the difference in means).</p><blockquote><p>All-purpose power formula $Z_\beta=\frac{d}{\text{s.e. of }d}-Z_{\alpha/2}$</p><p>Standard error (s.e.) of $d = \sqrt{\frac{\sigma^2}{n}+\frac{\sigma^2}{rn}}$</p></blockquote><p>Subsequently, this formula can be adapted to a case with a binary metric:<br>$$<br>n=\frac{r+1}{r}\frac{\bar p(1-\bar p)(Z_\beta+Z_{\alpha/2})^2}{(p_1-p_2)^2},<br>$$<br>where $\bar p = (p_1+p_2)/2$. A corresponding Python script is provided in <a href="https://towardsdatascience.com/the-math-behind-a-b-testing-with-example-code-part-1-of-2-7be752e1d06f">a post by Nguyen Ngo</a>:</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> scipy.stats <span class="keyword">as</span> scs</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">min_sample_size</span>(<span class="params">bcr, mde, power=<span class="number">0.8</span>, sig_level=<span class="number">0.05</span></span>):</span></span><br><span class="line">    <span class="string">&quot;&quot;&quot;Returns the minimum sample size to set up a split test</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    Arguments:</span></span><br><span class="line"><span class="string">        bcr (float): probability of success for control, sometimes</span></span><br><span class="line"><span class="string">        referred to as baseline conversion rate</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">        mde (float): minimum change in measurement between control</span></span><br><span class="line"><span class="string">        group and test group if alternative hypothesis is true, sometimes</span></span><br><span class="line"><span class="string">        referred to as minimum detectable effect</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">        power (float): probability of rejecting the null hypothesis when the</span></span><br><span class="line"><span class="string">        null hypothesis is false, typically 0.8</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">        sig_level (float): significance level often denoted as alpha,</span></span><br><span class="line"><span class="string">        typically 0.05</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    Returns:</span></span><br><span class="line"><span class="string">        min_N: minimum sample size (float)</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    References:</span></span><br><span class="line"><span class="string">        Stanford lecture on sample sizes</span></span><br><span class="line"><span class="string">        http://statweb.stanford.edu/~susan/courses/s141/hopower.pdf</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    <span class="comment"># standard normal distribution to determine z-values</span></span><br><span class="line">    standard_norm = scs.norm(<span class="number">0</span>, <span class="number">1</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># find Z_beta from desired power</span></span><br><span class="line">    Z_beta = standard_norm.ppf(power)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># find Z_alpha</span></span><br><span class="line">    Z_alpha = standard_norm.ppf(<span class="number">1</span>-sig_level/<span class="number">2</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># average of probabilities from both groups</span></span><br><span class="line">    pooled_prob = (bcr + bcr+mde) / <span class="number">2</span></span><br><span class="line"></span><br><span class="line">    min_N = (<span class="number">2</span> * pooled_prob * (<span class="number">1</span> - pooled_prob) * (Z_beta + Z_alpha)**<span class="number">2</span></span><br><span class="line">             / mde**<span class="number">2</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> min_N</span><br></pre></td></tr></table></figure><h2 id="Refresher-on-A-B-Testing"><a href="#Refresher-on-A-B-Testing" class="headerlink" title="Refresher on A/B Testing"></a>Refresher on A/B Testing</h2><blockquote><p>This part summarizes <a href="https://hbr.org/2017/06/a-refresher-on-ab-testing">the article</a> published in <em>Harvard Business Review</em>. </p></blockquote><h3 id="How-Does-A-B-Testing-Work"><a href="#How-Does-A-B-Testing-Work" class="headerlink" title="How Does A/B Testing Work?"></a>How Does A/B Testing Work?</h3><p>A/B testing, at its most basic, is a way to compare two versions of something to figure out which performs better. “The A/B test can be considered the most basic kind of randomized controlled experiment,” Fung says. “In its simplest form, there are two treatments and one acts as the control for the other.” <em>As with all randomized controlled experiments, you must estimate the <strong>sample size</strong> you need to achieve a statistical significance, which will help you make sure the result you’re seeing “isn’t just because of background noise</em>,” Fung says.</p><p>Lots of managers run sequential tests — e.g., testing size first (large versus small), then testing color (blue versus red), then testing typeface (Times versus Arial) — because they believe they shouldn’t vary two or more factors at the same time. But according to Fung, that view has been debunked by statisticians. And <em>sequential tests are suboptimal because you’re not measuring what happens when factors interact</em>. For example, it may be that users prefer blue on average but prefer red when it’s combined with Arial. This kind of result is regularly missed in sequential A/B testing because the typeface test is run on blue buttons that have “won” the prior test. </p><p>Using mathematics you can “smartly pick and run only certain subsets of those treatments; then you can infer the rest from the data.” This is called “multivariate” testing in the A/B testing world and often means you end up doing an A/B/C test or even an A/B/C/D test. In the example above with colors and size, it might mean showing different groups: a large red button, a small red button, a large blue button, and a small blue button.</p><h3 id="What-Mistakes-Do-People-Make-When-Doing-A-B-Tests"><a href="#What-Mistakes-Do-People-Make-When-Doing-A-B-Tests" class="headerlink" title="What Mistakes Do People Make When Doing A/B Tests?"></a>What Mistakes Do People Make When Doing A/B Tests?</h3><ul><li><p>First, he says, too many managers don’t let the tests run their course. </p><ul><li>The problem is that, because of randomization, it’s possible that if you let the test run to its natural end, you might get a different result. </li></ul></li><li><p>The second mistake is looking at too many metrics.</p><ul><li>The problem is that if you’re looking at such a large number of metrics at the same time, you’re at risk of making what statisticians call “spurious correlations.” </li><li>In proper test design, you should decide on the metrics you’re going to look at before you execute an experiment and select a few. The more you’re measuring, the more likely that you’re going to see random fluctuations.  </li></ul></li><li><p>Lastly, few companies do enough retesting.</p><ul><li>Even though there may be little chance that any given A/B result is driven by random chance, if you do lots of A/B tests, the chances that at least one of your results is wrong grows rapidly.</li><li>The smaller the improvement, the less reliable the results.  </li></ul></li></ul><p>It’s clear that A/B testing is not a panacea. There are more complex kinds of experiments that are more efficient and will give you more reliable data. But A/B testing is a great way to gain a <em>quick</em> understanding of a question you have.   </p>]]></content>
    
    
    <summary type="html">Hypothesis Testing, A/B Testing</summary>
    
    
    
    
    <category term="Hypothesis Testing" scheme="http://yanghaowang.github.io/tags/Hypothesis-Testing/"/>
    
    <category term="A/B Testing" scheme="http://yanghaowang.github.io/tags/A-B-Testing/"/>
    
  </entry>
  
  <entry>
    <title>Error Types and Measures</title>
    <link href="http://yanghaowang.github.io/posts/20210327-Error-Types-and-Measures"/>
    <id>http://yanghaowang.github.io/posts/20210327-Error-Types-and-Measures</id>
    <published>2021-03-27T20:14:51.000Z</published>
    <updated>2021-04-06T13:16:02.532Z</updated>
    
    <content type="html"><![CDATA[<p>In the context of econometrics and the empirical analysis in microeconomics, we focus on the type I error and pay much attention on p-value evaluated at a given significance level ($\alpha$). I haven’t cared about the type II error and the statistical power of a test ($1-\beta$) quite a while since I worked on some homework problems related to type II error in the graduate school as taking the Mathematical Statistics course.</p><p>When evaluating the results from a A/B testing and comparing the performances of alternative machine learning models, we inevitably encounter quite a few measures pertaining to type I and type II errors. In this post, I am going to review the error types and some relevant measures.</p><h2 id="Error-Types"><a href="#Error-Types" class="headerlink" title="Error Types"></a>Error Types</h2><p>Errors arise in the process of the statistical testing. Let $H_0$ and $H_1$ denote the null and the alternative hypothesis for a test. By calculating a test statistic from an observed sample, we can reject $H_0$ or not. Because of the randomness, we sometimes might make a mistake as concluding with the value of a test statistic. Here is a table explicitly presenting the error types in a statistical test.</p><table><thead><tr><th></th><th align="left">$H_0$ is true</th><th align="left">$H_0$ is not true</th></tr></thead><tbody><tr><td>Reject $H_0$</td><td align="left">Type I error <br>False Positive (FP)</td><td align="left">Correct <br>True Positive (TP)</td></tr><tr><td>Cannot reject $H_0$</td><td align="left">Correct<br>True Negative (TN)</td><td align="left">Type II error <br>False Negative (FN)</td></tr></tbody></table><p>As follows, there are relevant measures build on this table:</p><ul><li><p>Recall, Sensitivity, or True Positive Rate (TPR):<br>$$<br>\frac{TP}{TP+FN}=1-\beta<br>$$<br>where $1-\beta$ represents the statistical power of the test.</p></li><li><p>False Positive Rate (FPR):<br>$$<br>\frac{FP}{FP+TN}=\alpha<br>$$<br>where $\alpha$ represents the significance level of the test.</p><blockquote><p>In a binary classification problem, the TPR and the FPR will vary accordingly as we change the determination threshold in a model (e.g., the cut-off point for a logit model in predicting the credit default).</p><img src="/posts/20210327-Error-Types-and-Measures/AUC.png" class=""><p>A <strong>receiver (or relative) operating characteristic curve</strong>, or <strong>ROC curve</strong>, is a <a href="https://en.wikipedia.org/wiki/Graph_of_a_function">graphical plot</a> that illustrates the diagnostic ability of a <a href="https://en.wikipedia.org/wiki/Binary_classifier">binary classifier</a> system <u>as its discrimination threshold is varied</u>. The method was originally developed for operators of military radar receivers, which is why it is so named.</p><p>The optimal cut-off point on ROC can be determined by one of the three criteria (<a href="http://www.medicalbiostatistics.com/roccurve.pdf">Reference Link</a>):</p><ul><li>The farthest point from the random classifier, that is, max(TPR+FPR), the Youden index</li><li>The closest point to the perfect classifier (0, 1)</li><li>The point minimizing the cost.</li></ul></blockquote></li><li><p>Precision, or Positive Predictive Value (PPV):<br>$$<br>\frac{TP}{TP+FP}<br>$$</p></li><li><p>Specificity, Selectivity, or True Negative Rate (TNR):<br>$$<br>\frac{TN}{TN+FP}=1-\alpha<br>$$</p></li><li><p>Accuracy:<br>$$<br>\frac{TP+TN}{TP+TN+FP+FN}<br>$$</p></li><li><p>F1 Score (Harmonic mean of precision and recall):<br>$$<br>\frac{1}{\frac{1}{2}\frac{1}{\text{Precision}}+\frac{1}{2}\frac{1}{\text{ Recall}}}=2\times\frac{\text{Precision}\times\text{Recall}}{\text{Precision}+\text{Recall}}<br>$$</p><blockquote><p>The harmonic mean is best used for fractions such as rates.</p><p>For example, Joe drives a car at 10 mph for the half of the journey and 40 mph for the second half. What’s his average speed? The naïve answer is to calculate the total mileage of the journey and then divide it by the total drive time. Denote the total mileage of the journey as $x$ and the total drive time is $\frac{0.5x}{10}+\frac{0.5x}{40}$. Therefore, the average speed is $x/\left(\frac{0.5x}{10}+\frac{0.5x}{40}\right)=16$ mph.</p></blockquote></li></ul><h2 id="Trade-off-between-Errors"><a href="#Trade-off-between-Errors" class="headerlink" title="Trade-off between Errors"></a>Trade-off between Errors</h2><p>We cannot reduce the type I error (false positive) and the type II error (false negative) at the same time, once a testing environment is fixed and the observed results are given. Usually, we set the expected result as the alternative hypothesis $H_1$ and prefer minimizing $\alpha$ in a statistical test, the probability that we incorrectly reject $H_0$.</p><p>The figure below presents the change in $\alpha$ and $\beta$ as the cut-off point is altered in a given test. By construction, we would like to differentiate the distributions under $H_0$ and $H_1$ as much as possible.</p><img src="/posts/20210327-Error-Types-and-Measures/PPV_NPV_Sensitivity_and_Specificity.png" class=""><p>In this figure, it is easy to see the specificity ($=1-\alpha$, also known as the confidence level) and the sensitivity ($=1-\beta$, also known as the statistical power of the test) representing the “true” portion of the $H_0$ distribution and the $H_1$ distribution, respectively.</p>]]></content>
    
    
    <summary type="html">type I error, type II error, measures built on errors, terms from a confusion matrix, ROC, AUC</summary>
    
    
    
    
    <category term="Error Types" scheme="http://yanghaowang.github.io/tags/Error-Types/"/>
    
    <category term="Confusion Matrix" scheme="http://yanghaowang.github.io/tags/Confusion-Matrix/"/>
    
    <category term="Hypothesis Testing" scheme="http://yanghaowang.github.io/tags/Hypothesis-Testing/"/>
    
  </entry>
  
  <entry>
    <title>SQL JOIN with the WHERE and the ON Clause</title>
    <link href="http://yanghaowang.github.io/posts/20210206-SQL-JOIN-with-the-WHERE-and-the-ON-Clause"/>
    <id>http://yanghaowang.github.io/posts/20210206-SQL-JOIN-with-the-WHERE-and-the-ON-Clause</id>
    <published>2021-02-07T00:53:06.000Z</published>
    <updated>2021-04-06T02:23:39.393Z</updated>
    
    <content type="html"><![CDATA[<p>When merging tables with selected rows in SQL, we often think of using the <code>JOIN</code> statement with the <code>WHERE</code> and the <code>ON</code> clause. The resulting table would depend on the inclusion of filters in the <code>WHERE</code> or the <code>ON</code> clause. To illustrate this difference, I employ the SQL examples from <a href="https://mode.com/sql-tutorial/sql-joins-where-vs-on/">a MODE tutorial page</a>.</p><h2 id="Filtering-in-The-ON-Clause"><a href="#Filtering-in-The-ON-Clause" class="headerlink" title="Filtering in The ON Clause"></a>Filtering in The <code>ON</code> Clause</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> companies.permalink            <span class="keyword">AS</span> companies_permalink,</span><br><span class="line">       companies.name                 <span class="keyword">AS</span> companies_name,</span><br><span class="line">       acquisitions.company_permalink <span class="keyword">AS</span> acquisitions_permalink,</span><br><span class="line">       acquisitions.acquired_at       <span class="keyword">AS</span> acquired_date</span><br><span class="line">  <span class="keyword">FROM</span> tutorial.crunchbase_companies         companies</span><br><span class="line">  <span class="keyword">LEFT</span> <span class="keyword">JOIN</span> tutorial.crunchbase_acquisitions acquisitions</span><br><span class="line">    <span class="keyword">ON</span> companies.permalink = acquisitions.company_permalink</span><br><span class="line">   <span class="keyword">AND</span> acquisitions.company_permalink != <span class="string">&#x27;/company/1000memories&#x27;</span></span><br><span class="line"> <span class="keyword">ORDER</span> <span class="keyword">BY</span> <span class="number">1</span></span><br></pre></td></tr></table></figure><blockquote><p><code>ORDER BY 1</code> is equivalent to <code>ORDER BY companies.permalink</code> </p></blockquote><p>The conditional statement <code>AND...</code> is evaluated <strong>before</strong> the join occurs. Particularly, the <code>AND</code> statement is evaluated on the joining  table (i.e., <code>acquisitions</code>) rather than the target table (i.e., <code>companies</code>). Hence, the 1000memories permalink is still displayed in the column that pulls from the target table (i.e., <code>companies</code>).</p><img src="/posts/20210206-SQL-JOIN-with-the-WHERE-and-the-ON-Clause/UsingWhereOrON_1.png" class=""><h2 id="Filtering-in-The-WHERE-Clause"><a href="#Filtering-in-The-WHERE-Clause" class="headerlink" title="Filtering in The WHERE Clause"></a>Filtering in The WHERE Clause</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> companies.permalink            <span class="keyword">AS</span> companies_permalink,</span><br><span class="line">       companies.name                 <span class="keyword">AS</span> companies_name,</span><br><span class="line">       acquisitions.company_permalink <span class="keyword">AS</span> acquisitions_permalink,</span><br><span class="line">       acquisitions.acquired_at       <span class="keyword">AS</span> acquired_date</span><br><span class="line">  <span class="keyword">FROM</span> tutorial.crunchbase_companies         companies</span><br><span class="line">  <span class="keyword">LEFT</span> <span class="keyword">JOIN</span> tutorial.crunchbase_acquisitions acquisitions</span><br><span class="line">    <span class="keyword">ON</span> companies.permalink = acquisitions.company_permalink</span><br><span class="line"> <span class="keyword">WHERE</span> acquisitions.company_permalink != <span class="string">&#x27;/company/1000memories&#x27;</span></span><br><span class="line">    <span class="keyword">OR</span> acquisitions.company_permalink <span class="keyword">IS</span> <span class="literal">NULL</span></span><br><span class="line"> <span class="keyword">ORDER</span> <span class="keyword">BY</span> <span class="number">1</span></span><br></pre></td></tr></table></figure><p>If you move the same filter to the <code>WHERE</code> clause, you will notice that the filter happens <strong>after</strong> the tables are joined. The result is that the 1000 memories row is joined onto the original table, but then it is filtered out entirely (in both tables) in the <code>WHERE</code> clause before displaying results (it would have been between the two highlighted lines in the resulting table below).</p><img src="/posts/20210206-SQL-JOIN-with-the-WHERE-and-the-ON-Clause/UsingWhereOrON_2.png" class=""><p>Note <em>that filtering in the</em> <code>WHERE</code> <em>clause can also filter null values</em>, so we added an extra line to make sure to include the nulls.</p><blockquote><p>The null values will not be evaluated using comparison operators.</p><img src="/posts/20210206-SQL-JOIN-with-the-WHERE-and-the-ON-Clause/UsingWhereOrON_3.png" class=""></blockquote>]]></content>
    
    
    <summary type="html">Use JOIN with the WHERE and the ON clause in SQL</summary>
    
    
    
    
    <category term="SQL" scheme="http://yanghaowang.github.io/tags/SQL/"/>
    
  </entry>
  
  <entry>
    <title>Git Quick Start</title>
    <link href="http://yanghaowang.github.io/posts/20201201-Git-Quick-Start"/>
    <id>http://yanghaowang.github.io/posts/20201201-Git-Quick-Start</id>
    <published>2020-12-01T22:21:37.000Z</published>
    <updated>2021-04-05T20:59:34.329Z</updated>
    
    <content type="html"><![CDATA[<p>I began my GitHub journey with <a href="https://desktop.github.com/">GitHub Desktop</a>, a  <a href="https://git-scm.com/downloads">Git</a> GUI client for Windows users. Recently, I switch to Git and find it worth to invest some time in learning it by using.</p><p class='twelve columns' style="text-align: center;"><img src="/posts/20201201-Git-Quick-Start/GitBasics.png" class=""></p><h2 id="Quick-Start-for-Git-in-Windows"><a href="#Quick-Start-for-Git-in-Windows" class="headerlink" title="Quick Start for Git in Windows"></a>Quick Start for Git in Windows</h2><ol><li><p>Download and install Git via this link <a href="https://git-scm.com/downloads">https://git-scm.com/downloads</a></p></li><li><p>Connect to GitHub using SSH keys</p><p>With SSH keys, we can connect to GitHub without supplying your username and personal access token at each visit.</p><ul><li><p>Learn more <a href="https://docs.github.com/en/free-pro-team@latest/github/authenticating-to-github/about-ssh">about SSH</a></p></li><li><p>Check for existing SSH keys</p><p><a href="https://docs.github.com/en/free-pro-team@latest/github/authenticating-to-github/checking-for-existing-ssh-keys">Instruction page</a> from GitHub Docs</p><blockquote><p>Novice Note:</p><ol><li>The physical directory in Windows is <code>C:\Users\&lt;user name&gt;\.ssh\</code>, where <code>.ssh</code> is a hidden folder by default</li><li><a href="https://docs.github.com/en/free-pro-team@latest/github/authenticating-to-github/generating-a-new-ssh-key-and-adding-it-to-the-ssh-agent">Generate a new SSH key</a> if needed</li></ol></blockquote></li><li><p>Add your SSH to the local ssh-agent and your GitHub account</p><blockquote><p>Novice Note: </p><ol><li><p>Use Git Bash to start the ssh-agent in the background. Command Prompt does not recognize <code>eval</code> command.</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># start the ssh-agent in the background</span></span><br><span class="line">$ <span class="built_in">eval</span> $(ssh-agent -s)</span><br><span class="line">&gt; Agent pid &lt;your pid number&gt;</span><br></pre></td></tr></table></figure></li><li><p>Go to your GitHub setting page and follow <a href="https://docs.github.com/en/free-pro-team@latest/github/authenticating-to-github/adding-a-new-ssh-key-to-your-github-account">this instruction</a> from GitHub Docs</p></li></ol></blockquote></li><li><p>Test the SSH connection</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$ssh</span> -T git@github.com</span><br><span class="line">&gt; Hi &lt;GitHub username&gt;! You\<span class="string">&#x27;ve successfully authenticated, but GitHub does not provide shell access.</span></span><br></pre></td></tr></table></figure></li></ul></li><li><p>Start a project with GitHub using the command line</p><p><a href="https://docs.github.com/en/free-pro-team@latest/github/importing-your-projects-to-github/adding-an-existing-project-to-github-using-the-command-line">Instruction page</a> from GitHub Docs</p><blockquote><p>Novice Note:</p><ol><li><p>We can interchangeably use Git Bash and Command Prompt in Windows</p></li><li><p>My colleague suggests me use <a href="https://docs.github.com/en/free-pro-team@latest/github/authenticating-to-github/about-ssh">SSH</a> instead of HTTPS when adding the URL for the remote repository</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Sets the new remote</span></span><br><span class="line">$ git remote add origin &lt;remote repository SSH URL&gt;</span><br><span class="line"><span class="comment"># Verifies the new remote URL</span></span><br><span class="line">$ git remote -v</span><br></pre></td></tr></table></figure></li><li><p>We can give a name to the origin branch</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Pushes our local repository up to the remote repository we specify as the origin</span></span><br><span class="line">$ git push origin &lt;branch name&gt;</span><br></pre></td></tr></table></figure></li></ol></blockquote></li></ol><h2 id="Git-Reference"><a href="#Git-Reference" class="headerlink" title="Git Reference"></a>Git Reference</h2><p>Cheat Sheet: <a href="https://training.github.com/downloads/github-git-cheat-sheet/">https://training.github.com/downloads/github-git-cheat-sheet/</a></p><p>Video Tutorial: <a href="https://git-scm.com/videos">https://git-scm.com/videos</a></p><p>Documentation: <a href="https://git-scm.com/docs">https://git-scm.com/docs</a></p><p>My colleague, Jianghao, shares his note on using Git via this page: <a href="https://jianghaochu.github.io/version-control-with-git.html">https://jianghaochu.github.io/version-control-with-git.html</a></p>]]></content>
    
    
    <summary type="html">Git, GitHub, Git Basics, Windows Users</summary>
    
    
    
    
    <category term="Github" scheme="http://yanghaowang.github.io/tags/Github/"/>
    
    <category term="Git" scheme="http://yanghaowang.github.io/tags/Git/"/>
    
  </entry>
  
  <entry>
    <title>Google Drive plus Git</title>
    <link href="http://yanghaowang.github.io/posts/20201201-Google-Drive-plus-Git"/>
    <id>http://yanghaowang.github.io/posts/20201201-Google-Drive-plus-Git</id>
    <published>2020-12-01T20:21:37.000Z</published>
    <updated>2020-12-03T21:13:23.721Z</updated>
    
    <content type="html"><![CDATA[<p>Collaboration is a multiplier for our achievement in the era of the Internet. I have heard about <a href="https://github.com/features">GitHub</a> for a long time but just started using GitHub <em>intensively</em> last month. In contrast, I have been constantly using <a href="https://www.google.com/intl/en/drive/">Google Drive</a> since 2013. It is not a “either/or” question. On the contrary, we can leverage the power of both.</p><h2 id="Generic-Solution-for-Sharing-and-Synchronizing-Files-Google-Drive"><a href="#Generic-Solution-for-Sharing-and-Synchronizing-Files-Google-Drive" class="headerlink" title="Generic Solution for Sharing and Synchronizing Files: Google Drive"></a>Generic Solution for Sharing and Synchronizing Files: Google Drive</h2><p>GitHub is a popular and well-known tool for IT people when it comes to collaboration in coding. You can simply find tons of reasons convincing people to manager and store their coding scripts using GitHub. However, most of my friends who are not intensively involved in coding have not considered about it. Honestly, I don’t use GitHub very often because of two reasons:</p><ol><li>I use Google Drive which also allows me to retrieve files from the cloud,</li><li>I am not worried about version control. If needed, I will make a copy and title it using an extended name with a time stamp. </li></ol><p>I am always enthused to collaborate with other scholars in doing research and have had pleasant experience in writing academic papers with my co-authors. Most of time, we will divide a long list of tasks into parts, one for each. It is a quite efficient way to do research and a file storage and synchronization service provided by Google Drive (or One Drive and Dropbox) is good enough for us. In my past experience, there is few chance, if possible, that multiple people would work on the same part of a coding script.</p><h2 id="Version-Control-Solution-GitHub"><a href="#Version-Control-Solution-GitHub" class="headerlink" title="Version Control Solution: GitHub"></a>Version Control Solution: GitHub</h2><p>Probably, it is not a good idea to store numbers of copies in a local archive folder. These copies might waste the space in our drive. As a result, there are quite a few times that we need to consider about version control and think of the potential maintenance and further development of existing programs. For example, </p><ol><li>I need to fix a problem in an existing script and update it when the problem is resolved, and</li><li>I might also work together with colleagues on a big project and write some scripts that will be shared within the team.</li></ol><h3 id="GitHub-Desktop-or-Git"><a href="#GitHub-Desktop-or-Git" class="headerlink" title="GitHub Desktop or Git"></a>GitHub Desktop or Git</h3><p><a href="https://desktop.github.com/">GitHub Desktop</a> is a <a href="https://git-scm.com/downloads">Git</a> GUI client for Windows users. It is user friendly and easy to manage your files in local and synchronize them with the copies in GitHub online repositories.</p><p>I began my GitHub journey with GitHub Desktop. Since most of my recent work involves in using a Linux server with command lines, <em>I switch to Git and find it worth to spend some time in learning how to use it</em>.</p><p>Git is small and fast. Written in C and built to work on the Linux kernel, it has had to effectively handle large repositories from day one. <a href="https://git-scm.com/about/small-and-fast">According to its official introduction page, speed and performance has been a primary goal in the design of Git from start</a>. Note that it can also be used in Windows Command Prompt.</p>]]></content>
    
    
    <summary type="html">Collaboration, Synchronization, Version Control</summary>
    
    
    
    
    <category term="Github" scheme="http://yanghaowang.github.io/tags/Github/"/>
    
    <category term="Git" scheme="http://yanghaowang.github.io/tags/Git/"/>
    
  </entry>
  
  <entry>
    <title>LaTex Display in Hexo</title>
    <link href="http://yanghaowang.github.io/posts/20201125-LaTex-Display-in-Hexo"/>
    <id>http://yanghaowang.github.io/posts/20201125-LaTex-Display-in-Hexo</id>
    <published>2020-11-25T23:31:58.000Z</published>
    <updated>2020-12-06T22:36:26.445Z</updated>
    
    <content type="html"><![CDATA[<p>One of my motivations to set up my site using Hexo and Github is that I can easily post some notes including some formulas as I write in LaTex in markdown documents. Therefore, I look for a solution for displaying LaTex formulas in Hexo.</p><h2 id="Hexo-Plugins"><a href="#Hexo-Plugins" class="headerlink" title="Hexo Plugins"></a>Hexo Plugins</h2><p>First, I visit the Hexo website and <a href="https://hexo.io/plugins/index.html">search for a Hexo plugin</a> fitting my needs.</p><p>By typing “math” in the search box, I find two relevant plugins, <a href="https://github.com/hexojs/hexo-math">hexo-math</a> and <a href="https://github.com/next-theme/hexo-filter-mathjax">hexo-filter-mathjax</a>. Taking a further look for both plugins, I find the syntax of hexo-math to initiate the math box is different than the LaTex writing in markdown documents. Particularly, the prefix and suffix of the math box in hexo-math for KaTex and Mathjax are</p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;% katex %&#125;</span><br><span class="line">a^&#123;b&#125;_&#123;c&#125;</span><br><span class="line">&#123;% endkatex %&#125;</span><br></pre></td></tr></table></figure><p>and</p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;% mathjax %&#125;</span><br><span class="line">a^&#123;b&#125;_&#123;c&#125;</span><br><span class="line">&#123;% endmathjax %&#125;</span><br></pre></td></tr></table></figure><p>as well as some global settings in the front-matter of an article.</p><p>In contrast, the associated syntax in hexo-filter-mathjax is as same as the LaTex writing in markdown documents. Both are using one dollar sign to begin and end the inline math box and two dollar signs for the math box.</p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$$</span><br><span class="line">a^&#123;b&#125;_&#123;c&#125;</span><br><span class="line">$$</span><br></pre></td></tr></table></figure><p>Without doubt, I choose hexo-filter-mathjax and install it in the working directory.</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">cd</span> &lt;root-directory-of-your-blog&gt;</span><br><span class="line">$ npm install hexo-filter-mathjax</span><br></pre></td></tr></table></figure><br><h2 id="Conflict-between-LaTex-and-Markdown-Syntax"><a href="#Conflict-between-LaTex-and-Markdown-Syntax" class="headerlink" title="Conflict between LaTex and Markdown Syntax"></a>Conflict between LaTex and Markdown Syntax</h2><p>However, hexo-filter-mathjax is not a fully quick fix. As mentioned in its documentations, hexo-filter-mathjax may have some problem when there are some underscores included, since an underscore (<code>_</code>) may be interpreted as the start of italic text in Markdown, or subscripted mark in TeX. To resolve this conflict, we need to use <code>\</code> in front of <code>_</code>.</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">title: XXX</span><br><span class="line">date: XXX</span><br><span class="line">mathjax: true ## case insentitive</span><br><span class="line">---</span><br><span class="line"></span><br><span class="line">Equation 1</span><br><span class="line">$$</span><br><span class="line">a^&#123;b&#125;<span class="emphasis">_&#123;c&#125; \times a^&#123;b&#125;_</span>&#123;c&#125;</span><br><span class="line">$$</span><br><span class="line"></span><br><span class="line">Equation 2</span><br><span class="line">$$</span><br><span class="line">a^&#123;b&#125;\<span class="emphasis">_&#123;c&#125; \times a^&#123;b&#125;\_</span>&#123;c&#125;</span><br><span class="line">$$</span><br></pre></td></tr></table></figure><p>Note that Equation 1 will be displayed as “a^{b}<em>{c} \times a^{b}</em>{c}” while Equation 2 will be presented properly.</p><h2 id="Another-Recommended-Hexo-Plugin"><a href="#Another-Recommended-Hexo-Plugin" class="headerlink" title="Another Recommended Hexo Plugin"></a>Another Recommended Hexo Plugin</h2><p>As suggested in the documentation of hexo-filter-mathjax, I install <a href="https://github.com/wzpan/hexo-renderer-pandoc">hexo-renderer-pandoc</a> to address this issue. </p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">cd</span> &lt;root-directory-of-your-blog&gt;</span><br><span class="line">$ npm install hexo-renderer-pandoc</span><br></pre></td></tr></table></figure><blockquote><p>Note: hexo-renderer-pandoc is built in the environment where pandoc has been installed. Hence, I intall <a href="https://pandoc.org/installing.html">pandoc</a> using <a href="https://chocolatey.org/">Chocolatey</a>. Chocolatey was installed (automatically by default) as I installed Node.js by allowing it to install any necessary package.</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> choco install pandoc</span></span><br></pre></td></tr></table></figure><p>So far, I have two hexo plugins (i.e., hexo-filter-mathjax and hexo-render-pandoc) installed in the working directory of my blog.</p></blockquote><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> check the installations</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> <span class="built_in">cd</span> &lt;root-directory-of-your-blog&gt;</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> npm list</span></span><br></pre></td></tr></table></figure><p>By turning on the mathjax option in the markdown document, I am able to directly post the article on my site without further edits.</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">title: XXX</span><br><span class="line">date: XXX</span><br><span class="line">mathjax: true ## case insentitive</span><br><span class="line">---</span><br><span class="line"></span><br><span class="line">Equation 1</span><br><span class="line">$$</span><br><span class="line">a^&#123;b&#125;<span class="emphasis">_&#123;c&#125; \times a^&#123;b&#125;_</span>&#123;c&#125;</span><br><span class="line">$$</span><br></pre></td></tr></table></figure><p>Now, Equation 1 can be displayed as expected. In the exported html page, this formula is presented as a <a href="https://en.wikipedia.org/wiki/Scalable_Vector_Graphics">SVG image</a>.</p><h2 id="One-More-Thing-for-The-Lazy"><a href="#One-More-Thing-for-The-Lazy" class="headerlink" title="One More Thing for The Lazy"></a>One More Thing for The Lazy</h2><p>Though a SVG image is print-friendly, it does not allow readers to copy the formula in LaTex codes for other use. As one of the lazy, I do one more thing for my peers, that is, pasting the script for loading the mathjax html extension to <code>post.ejs</code> (e.g., line 3 to 5 in the code box below).</p><blockquote><p><code>post.ejs</code> defines the post template in the directory of the theme’s layout.</p></blockquote><p>In addition, once the mathjax script is included in the post template, I no longer need to add <code>mathjax: true</code> in the front-matter of the post. In other words, the mathjax script is a substitue for the package <code>hexo-filter-mathjax</code>.</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&lt;h1&gt;&lt;%- page.title %&gt;&lt;&#x2F;h1&gt;</span><br><span class="line"></span><br><span class="line">&lt;script src&#x3D;&quot;https:&#x2F;&#x2F;polyfill.io&#x2F;v3&#x2F;polyfill.min.js?features&#x3D;es6&quot;&gt;&lt;&#x2F;script&gt;</span><br><span class="line">&lt;script type&#x3D;&quot;text&#x2F;javascript&quot; id&#x3D;&quot;MathJax-script&quot; async</span><br><span class="line">  src&#x3D;&quot;https:&#x2F;&#x2F;cdn.jsdelivr.net&#x2F;npm&#x2F;mathjax@3&#x2F;es5&#x2F;tex-chtml.js&quot;&gt;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">MathJax &#x3D; &#123;</span><br><span class="line">  tex: &#123;</span><br><span class="line">    inlineMath: [[&#39;$&#39;, &#39;$&#39;], [&#39;\\(&#39;, &#39;\\)&#39;]]</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br><span class="line"></span><br><span class="line">&lt;%- page.content%&gt;</span><br></pre></td></tr></table></figure><blockquote><p>Codes in Line 10 enable the browser to properly display the inline formulas between two dollar signs. More detailed information about the configuration of MathJax is available in its <a href="http://docs.mathjax.org/en/latest/web/configuration.html">documentation page</a>.</p></blockquote><p>As follows, when reading the formula in the post, I am able to copy the formula’s LaTex codes.</p><img src="/posts/20201125-LaTex-Display-in-Hexo/codedisplaymenu.png" class=""><br>]]></content>
    
    
    <summary type="html">hexo plugins, LaTex, Markdown, hexo-filter-mathjax, hexo-renderer-pandoc</summary>
    
    
    
    
    <category term="Hexo" scheme="http://yanghaowang.github.io/tags/Hexo/"/>
    
    <category term="LaTex" scheme="http://yanghaowang.github.io/tags/LaTex/"/>
    
  </entry>
  
  <entry>
    <title>Hello World and Thank You Hexo</title>
    <link href="http://yanghaowang.github.io/posts/20201123-Hello-World-and-Thank-You-Hexo"/>
    <id>http://yanghaowang.github.io/posts/20201123-Hello-World-and-Thank-You-Hexo</id>
    <published>2020-11-24T03:31:58.000Z</published>
    <updated>2020-12-06T21:38:03.405Z</updated>
    
    <content type="html"><![CDATA[<p>Welcome to my site powered by <a href="https://hexo.io/">Hexo</a> and hosted on <a href="https://github.com/yanghaowang/yanghaowang.github.io">GitHub</a>! This is my very first post. </p><h2 id="Why-Hexo-and-GitHub"><a href="#Why-Hexo-and-GitHub" class="headerlink" title="Why Hexo and GitHub"></a>Why Hexo and GitHub</h2><p>I was using and maintaining a homepage on another free hosting site. Through the web interface provided by the hosting site, I can set up a homepage easily and customize it conveniently. It perfectly serves my needs for sharing some info and posts in words. Now, I am thinking of sharing some technical notes that include displays of $\LaTeX$ formulas and codes. </p><p>I am writing markdown documents using Typora and compile my notes with R codes in <code>.Rmd</code> files using RStudio and with python codes in <code>.ipynb</code> files using Jupyter Notebook.</p><table><thead><tr><th align="center">Typora</th><th align="center">Rstudio</th><th align="center">Jupyter Notebook</th></tr></thead><tbody><tr><td align="center"><a class="footer-link" href="https://typora.io/"><img class="img-hov" src="/images/typora_logo.png" width="72px"></a></td><td align="center"><a class="footer-link" href="https://rstudio.com"><img class="img-hov" src="/images/rstudio_logo.png" width="136px"></a></td><td align="center"><a class="footer-link" href="https://jupyter.org"><img class="img-hov" src="/images/jupyter_logo.png" width="56px"></a></td></tr></tbody></table><blockquote><p>Note: Both <code>.Rmd</code> files and <code>.ipynb</code> files can be exported as markdown-formatted documents. </p></blockquote><p>Also, I prefer not spending extra time on format editing for posting them on my site. The less effort in format editing, the better. Ideally, it would be wonderful if I can directly post the contents of my markdown-formatted documents.</p><p>After doing little search online, I find Hexo enables me to publish a post in Markdown and GitHub provides a space for hosting the site. So I decide to move 🚚 and start using the combo 🍔.</p><h2 id="Create-Your-Own-Site"><a href="#Create-Your-Own-Site" class="headerlink" title="Create Your Own Site"></a>Create Your Own Site</h2><p>If you are thinking of building your own site, there are a couple of things you need to do:</p><ol><li><p>Download and install these two programs in your local PC</p><ul><li><p>Node.js [<a href="https://nodejs.org/en/download/">Download Page</a>]</p><ul><li>npm is distributed with <a href="https://nodejs.org/">Node.js</a>- which means that when you download Node.js, you automatically get npm installed on your computer.</li></ul></li><li><p>Git [<a href="https://git-scm.com/downloads">Download Page</a>]</p></li><li><p>Check the program versions in Command Prompt (for Windows) if installations succeed</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># check the version of node.js and npm</span></span><br><span class="line">$ node -v</span><br><span class="line">$ npm -v</span><br><span class="line"><span class="comment"># check the version of git</span></span><br><span class="line">$ git version</span><br></pre></td></tr></table></figure></li></ul></li><li><p>Register a GitHub account and set up Git in your local PC following <a href="https://docs.github.com/en/free-pro-team@latest/github/getting-started-with-github/set-up-git">this GitHub instruction</a> </p></li><li><p>Create a site using Hexo </p><ul><li><p>Watch <a href="https://www.youtube.com/watch?v=Kt7u5kr_P5o&list=PLLAZ4kZ9dFpOMJR6D25ishrSedvsguVSm">Hexo tutorial videos on Youtube</a> </p></li><li><p>Review this <a href="https://hexo.io/docs/">Hexo documentation</a> for more info</p></li><li><p>Ask your questions, if any, on this <a href="https://github.com/hexojs/hexo/issues">GitHub page</a> or look for an solution in <a href="https://hexo.io/docs/troubleshooting.html">troubleshooting</a></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># download hexo client</span></span><br><span class="line">$ npm install -g hexo-cli</span><br><span class="line"><span class="comment"># check the version of git</span></span><br><span class="line">$ hexo -v</span><br><span class="line"><span class="comment"># download hex plugins (example)</span></span><br><span class="line">$ npm install hexo-renderer-pandoc</span><br><span class="line"><span class="comment"># initiate a blog</span></span><br><span class="line">$ hexo init &lt;type-your-blog-name&gt;</span><br><span class="line">$ <span class="built_in">cd</span> &lt;type-your-blog-name&gt;</span><br></pre></td></tr></table></figure></li></ul></li><li><p>Choose a theme from <a href="https://hexo.io/themes/index.html">Hexo Theme Gallery</a></p></li></ol><h2 id="Quick-Start-for-Hexo"><a href="#Quick-Start-for-Hexo" class="headerlink" title="Quick Start for Hexo"></a>Quick Start for Hexo</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">&quot;My New Post&quot;</span></span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/writing.html">Writing</a></p><h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/server.html">Server</a></p><h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/generating.html">Generating</a></p><h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/one-command-deployment.html">Deployment</a></p>]]></content>
    
    
    <summary type="html">Why Hexo and GitHub, Create Own Site, LaTex, Markdown</summary>
    
    
    
    
    <category term="Hexo" scheme="http://yanghaowang.github.io/tags/Hexo/"/>
    
    <category term="Github" scheme="http://yanghaowang.github.io/tags/Github/"/>
    
  </entry>
  
</feed>
