<!DOCTYPE html>
<html lang="zh-CN">

  <head>
  <meta charset="utf-8">
  <!-- template is created by "zchengsite"<1451426471@qq.com> -->
  <meta name="author" content="Yanghao Wang" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  
  
  <title>LaTex Display in Hexo  </title>

  
    <link rel="apple-touch-icon" href="/images/isle_icon.png">
    <link rel="icon" href="/images/isle_icon.png">
  

  <!-- Raleway-Font -->
  <link href="https://fonts.googleapis.com/css?family=Raleway&display=swap" rel="stylesheet">

  <!-- hexo site css -->
  
<link rel="stylesheet" href="/css/base.css">
<link rel="stylesheet" href="/iconfont/iconfont.css">
<link rel="stylesheet" href="/css/github-markdown.css">
<link rel="stylesheet" href="/css/highlight.css">


  <!-- jquery3.3.1 -->
  <script src="https://cdn.bootcss.com/jquery/3.3.1/jquery.min.js"></script>

  <!-- fancybox -->
  <link href="https://cdn.bootcss.com/fancybox/3.5.2/jquery.fancybox.min.css" rel="stylesheet">
  <script async src="https://cdn.bootcss.com/fancybox/3.5.2/jquery.fancybox.min.js"></script>
  
<script src="/js/fancybox.js"></script>


  
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-HQF7RSRVHX"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'G-HQF7RSRVHX');
    </script>
  

  <!-- Site Verification (Begin) -->
  <meta name="google-site-verification" content="JjXbgMsnj0fxvl9a8Srz8H3mqG7a5WH302GAZAceyHw" />
  <meta name="msvalidate.01" content="83FCCA6F2323CE633A05D6A4C1D2116A" />
  <!-- Site Verification (End) -->

<meta name="generator" content="Hexo 5.3.0"><link rel="alternate" href="/atom.xml" title="Home - Yanghao Wang" type="application/atom+xml">
</head>


  <body>
    <div id="app">
      <div class="header">
  <div class="avatar">
    <a href="/">
      <!-- 头像取消懒加载，添加no-lazy -->
      
        <img src="/images/isle_icon.png" alt="">
      
    </a>
    <div class="nickname"><a href="/">Yanghao Wang</a></div>
  </div>
  <div class="navbar">
    <ul>
      
        <li class="nav-item" data-path="/">
          <a href="/">Home</a>
        </li>
      
        <li class="nav-item" data-path="/research/">
          <a href="/research/">Research</a>
        </li>
      
        <li class="nav-item" data-path="/tags/">
          <a href="/tags/">Tags</a>
        </li>
      
        <li class="nav-item" data-path="/about/">
          <a href="/about/">About</a>
        </li>
      
    </ul>
  </div>
</div>


<script src="/js/activeNav.js"></script>



      <div class="flex-container">
        <!-- 文章详情页，展示文章具体内容，url形式：https://yoursite/文章标题/ -->
<!-- 同时为「标签tag」，「朋友friend」，「分类categories」，「关于about」页面的承载页面，具体展示取决于page.type -->

<!-- LaTex Display -->
<script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
<script type="text/javascript" id="MathJax-script" async
  src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js">
</script>
<script>
MathJax = {
  tex: {
    inlineMath: [['$', '$'], ['\\(', '\\)']]
  }
};
</script>



  

  

  

  
  <!-- 文章内容页 url形式：https://yoursite/文章标题/ -->
  <div class="container post-details" id="post-details">
    <div class="post-content">
      <div class="post-title">LaTex Display in Hexo</div>
      <div class="post-attach">
        <span class="post-pubtime">
          <i class="iconfont icon-updatetime" title="Update time"></i>
          2020-11-25
        </span>
        
              <span class="post-tags">
                <i class="iconfont icon-tags" title="Tags"></i>
                
                <span class="span--tag">
                  <a href="/tags/Hexo/" title="Hexo">
                    <b>#</b> Hexo
                  </a>
                </span>
                
                <span class="span--tag">
                  <a href="/tags/LaTex/" title="LaTex">
                    <b>#</b> LaTex
                  </a>
                </span>
                
              </span>
          
      </div>
      <div class="markdown-body">
        <p>One of my motivations to set up my site using Hexo and Github is that I can easily post some notes including some formulas as I write in LaTex in markdown documents. Therefore, I look for a solution for displaying LaTex formulas in Hexo.</p>
<h2 id="Hexo-Plugins"><a href="#Hexo-Plugins" class="headerlink" title="Hexo Plugins"></a>Hexo Plugins</h2><p>First, I visit the Hexo website and <a target="_blank" rel="noopener" href="https://hexo.io/plugins/index.html">search for a Hexo plugin</a> fitting my needs.</p>
<p>By typing “math” in the search box, I find two relevant plugins, <a target="_blank" rel="noopener" href="https://github.com/hexojs/hexo-math">hexo-math</a> and <a target="_blank" rel="noopener" href="https://github.com/next-theme/hexo-filter-mathjax">hexo-filter-mathjax</a>. Taking a further look for both plugins, I find the syntax of hexo-math to initiate the math box is different than the LaTex writing in markdown documents. Particularly, the prefix and suffix of the math box in hexo-math for KaTex and Mathjax are</p>
<figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;% katex %&#125;</span><br><span class="line">a^&#123;b&#125;_&#123;c&#125;</span><br><span class="line">&#123;% endkatex %&#125;</span><br></pre></td></tr></table></figure>
<p>and</p>
<figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;% mathjax %&#125;</span><br><span class="line">a^&#123;b&#125;_&#123;c&#125;</span><br><span class="line">&#123;% endmathjax %&#125;</span><br></pre></td></tr></table></figure>
<p>as well as some global settings in the front-matter of an article.</p>
<p>In contrast, the associated syntax in hexo-filter-mathjax is as same as the LaTex writing in markdown documents. Both are using one dollar sign to begin and end the inline math box and two dollar signs for the math box.</p>
<figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$$</span><br><span class="line">a^&#123;b&#125;_&#123;c&#125;</span><br><span class="line">$$</span><br></pre></td></tr></table></figure>
<p>Without doubt, I choose hexo-filter-mathjax and install it in the working directory.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">cd</span> &lt;root-directory-of-your-blog&gt;</span><br><span class="line">$ npm install hexo-filter-mathjax</span><br></pre></td></tr></table></figure>
<br>

<h2 id="Conflict-between-LaTex-and-Markdown-Syntax"><a href="#Conflict-between-LaTex-and-Markdown-Syntax" class="headerlink" title="Conflict between LaTex and Markdown Syntax"></a>Conflict between LaTex and Markdown Syntax</h2><p>However, hexo-filter-mathjax is not a fully quick fix. As mentioned in its documentations, hexo-filter-mathjax may have some problem when there are some underscores included, since an underscore (<code>_</code>) may be interpreted as the start of italic text in Markdown, or subscripted mark in TeX. To resolve this conflict, we need to use <code>\</code> in front of <code>_</code>.</p>
<figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">title: XXX</span><br><span class="line">date: XXX</span><br><span class="line">mathjax: true ## case insentitive</span><br><span class="line">---</span><br><span class="line"></span><br><span class="line">Equation 1</span><br><span class="line">$$</span><br><span class="line">a^&#123;b&#125;<span class="emphasis">_&#123;c&#125; \times a^&#123;b&#125;_</span>&#123;c&#125;</span><br><span class="line">$$</span><br><span class="line"></span><br><span class="line">Equation 2</span><br><span class="line">$$</span><br><span class="line">a^&#123;b&#125;\<span class="emphasis">_&#123;c&#125; \times a^&#123;b&#125;\_</span>&#123;c&#125;</span><br><span class="line">$$</span><br></pre></td></tr></table></figure>
<p>Note that Equation 1 will be displayed as “a^{b}<em>{c} \times a^{b}</em>{c}” while Equation 2 will be presented properly.</p>
<h2 id="Another-Recommended-Hexo-Plugin"><a href="#Another-Recommended-Hexo-Plugin" class="headerlink" title="Another Recommended Hexo Plugin"></a>Another Recommended Hexo Plugin</h2><p>As suggested in the documentation of hexo-filter-mathjax, I install <a target="_blank" rel="noopener" href="https://github.com/wzpan/hexo-renderer-pandoc">hexo-renderer-pandoc</a> to address this issue. </p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">cd</span> &lt;root-directory-of-your-blog&gt;</span><br><span class="line">$ npm install hexo-renderer-pandoc</span><br></pre></td></tr></table></figure>
<blockquote>
<p>Note: hexo-renderer-pandoc is built in the environment where pandoc has been installed. Hence, I intall <a target="_blank" rel="noopener" href="https://pandoc.org/installing.html">pandoc</a> using <a target="_blank" rel="noopener" href="https://chocolatey.org/">Chocolatey</a>. Chocolatey was installed (automatically by default) as I installed Node.js by allowing it to install any necessary package.</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> choco install pandoc</span></span><br></pre></td></tr></table></figure>
<p>So far, I have two hexo plugins (i.e., hexo-filter-mathjax and hexo-render-pandoc) installed in the working directory of my blog.</p>
</blockquote>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> check the installations</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> <span class="built_in">cd</span> &lt;root-directory-of-your-blog&gt;</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> npm list</span></span><br></pre></td></tr></table></figure>
<p>By turning on the mathjax option in the markdown document, I am able to directly post the article on my site without further edits.</p>
<figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">title: XXX</span><br><span class="line">date: XXX</span><br><span class="line">mathjax: true ## case insentitive</span><br><span class="line">---</span><br><span class="line"></span><br><span class="line">Equation 1</span><br><span class="line">$$</span><br><span class="line">a^&#123;b&#125;<span class="emphasis">_&#123;c&#125; \times a^&#123;b&#125;_</span>&#123;c&#125;</span><br><span class="line">$$</span><br></pre></td></tr></table></figure>
<p>Now, Equation 1 can be displayed as expected. In the exported html page, this formula is presented as a <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Scalable_Vector_Graphics">SVG image</a>.</p>
<h2 id="One-More-Thing-for-The-Lazy"><a href="#One-More-Thing-for-The-Lazy" class="headerlink" title="One More Thing for The Lazy"></a>One More Thing for The Lazy</h2><p>Though a SVG image is print-friendly, it does not allow readers to copy the formula in LaTex codes for other use. As one of the lazy, I do one more thing for my peers, that is, pasting the script for loading the mathjax html extension to <code>post.ejs</code> (e.g., line 3 to 5 in the code box below).</p>
<blockquote>
<p><code>post.ejs</code> defines the post template in the directory of the theme’s layout.</p>
</blockquote>
<p>In addition, once the mathjax script is included in the post template, I no longer need to add <code>mathjax: true</code> in the front-matter of the post. In other words, the mathjax script is a substitue for the package <code>hexo-filter-mathjax</code>.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&lt;h1&gt;&lt;%- page.title %&gt;&lt;&#x2F;h1&gt;</span><br><span class="line"></span><br><span class="line">&lt;script src&#x3D;&quot;https:&#x2F;&#x2F;polyfill.io&#x2F;v3&#x2F;polyfill.min.js?features&#x3D;es6&quot;&gt;&lt;&#x2F;script&gt;</span><br><span class="line">&lt;script type&#x3D;&quot;text&#x2F;javascript&quot; id&#x3D;&quot;MathJax-script&quot; async</span><br><span class="line">  src&#x3D;&quot;https:&#x2F;&#x2F;cdn.jsdelivr.net&#x2F;npm&#x2F;mathjax@3&#x2F;es5&#x2F;tex-chtml.js&quot;&gt;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">MathJax &#x3D; &#123;</span><br><span class="line">  tex: &#123;</span><br><span class="line">    inlineMath: [[&#39;$&#39;, &#39;$&#39;], [&#39;\\(&#39;, &#39;\\)&#39;]]</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br><span class="line"></span><br><span class="line">&lt;%- page.content%&gt;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>Codes in Line 10 enable the browser to properly display the inline formulas between two dollar signs. More detailed information about the configuration of MathJax is available in its <a target="_blank" rel="noopener" href="http://docs.mathjax.org/en/latest/web/configuration.html">documentation page</a>.</p>
</blockquote>
<p>As follows, when reading the formula in the post, I am able to copy the formula’s LaTex codes.</p>
<img src="/posts/20201125-LaTex-Display-in-Hexo/codedisplaymenu.png" class="">

<br>
      </div>
      
        <div class="prev-or-next">
          <div class="post-foot-next">
            
              <a href="/posts/20201123-Hello-World-and-Thank-You-Hexo" target="_self">
                <i class="iconfont icon-chevronleft"></i>
                <span>Prev</span>
              </a>
            
          </div>
          <div class="post-attach">
            <span class="post-pubtime">
              <i class="iconfont icon-updatetime" title="Update time"></i>
              2020-11-25
            </span>
            
                  <span class="post-tags">
                    <i class="iconfont icon-tags" title="Tags"></i>
                    
                    <span class="span--tag">
                      <a href="/tags/Hexo/" title="Hexo">
                        <b>#</b> Hexo
                      </a>
                    </span>
                    
                    <span class="span--tag">
                      <a href="/tags/LaTex/" title="LaTex">
                        <b>#</b> LaTex
                      </a>
                    </span>
                    
                  </span>
              
          </div>
          <div class="post-foot-prev">
            
              <a href="/posts/20201201-Google-Drive-plus-Git" target="_self">
                <span>Next</span>
                <i class="iconfont icon-chevronright"></i>
              </a>
            
          </div>
        </div>
      
    </div>
    
  <div class="post-catalog" id="catalog">
    <div class="title">Contents</div>
    <div class="catalog-content">
      <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#Hexo-Plugins"><span class="toc-text">Hexo Plugins</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Conflict-between-LaTex-and-Markdown-Syntax"><span class="toc-text">Conflict between LaTex and Markdown Syntax</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Another-Recommended-Hexo-Plugin"><span class="toc-text">Another Recommended Hexo Plugin</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#One-More-Thing-for-The-Lazy"><span class="toc-text">One More Thing for The Lazy</span></a></li></ol>
    </div>
  </div>

  
<script src="/js/catalog.js"></script>




    
      <div class="comments-container">
        
  <div id="disqus_thread">
    <h2>
      <a href="#" class="comment" onclick="loadDisqus();return false;">View / Make Comments</a>
    </h2>
  </div>

  <script>
    var disqus_config = function() {
      this.page.url = 'http://yanghaowang.github.io/posts/20201125-LaTex-Display-in-Hexo.html';
      this.page.identifier = 'posts/20201125-LaTex-Display-in-Hexo.html';
      this.page.title = 'LaTex Display in Hexo';
    };

    var is_disqus_loaded = false;

    function loadDisqus() {
      if (!is_disqus_loaded) {
        is_disqus_loaded = true;

        var d = document,
          s = d.createElement('script');
        s.src = 'https://https-yanghaowang-github-io.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
      }
    }

  </script>
  <noscript>Please enable JavaScript to view the <a target="_blank" rel="noopener" href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>






      </div>
    
  </div>


        <div class="footer">
  <div class="social">
    <ul>
      
        <li>
          <a title="linkedin" target="_blank" rel="noopener" href="https://www.linkedin.com/in/yanghaowang">
            <i class="iconfont icon-linkedin"></i>
          </a>
        </li>
      
        <li>
          <a title="email" href="mailto:wyangh90@gamil.com">
            <i class="iconfont icon-envelope"></i>
          </a>
        </li>
      
        <li>
          <a title="rss" href="/atom.xml">
            <i class="iconfont icon-rss"></i>
          </a>
        </li>
      
    </ul>
  </div>
  
    <div class="footer-more">
      <!-- <a href="">© 2018-2020 Yanghao Wang. All Rights Reserved.</a> -->
      
        © 2018-2020 Yanghao Wang. All Rights Reserved.
            
    </div>
  
  <div style="text-align:center;">
    Hosted by 
    <a href="https://github.com/yanghaowang" target="_blank" style="text-decoration: none;" rel="noreferrer">
      <svg class="img-hov" style="width: 15px;" role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>GitHub</title><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"/></svg>
    </a> with Theme  
    <a target="_blank" href="https://github.com/zchengsite/hexo-theme-oranges" style="text-decoration: none;" rel="noreferrer noopener">
      <img class="img-hov" style="width: 15px;" src="/images/favicon.png">
    </a> Powered by 
    <a href="https://hexo.io/themes/#Oranges" target="_blank" style="text-decoration: none;" rel="noreferrer">
      <svg class="img-hov" style="width: 15px; fill: #03adfc" role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>Hexo.js</title><path d="M12 .007L1.57 6.056V18.05L12 23.995l10.43-6.049V5.952L12 .007zm4.798 17.105l-.939.521-.939-.521V12.94H9.08v4.172l-.94.521-.938-.521V6.89l.939-.521.939.521v4.172h5.84V6.89l.94-.521.938.521v10.222z"/></svg>
    </a>.
    <p><br></p>
  </div>
</div>

      </div>

      <div class="back-to-top hidden">
  <a href="javascript: void(0)"> 
    <p style="text-align: center;">Back to Top</p>
    <p style="text-align: center;"><i class="iconfont icon-chevronup"></i></p>
  </a>
</div>


<script src="/js/backtotop.js"></script>



      


    </div>
  </body>
</html>
